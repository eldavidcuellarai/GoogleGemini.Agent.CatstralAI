<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analizador Catastral - Variables de Entorno</title>
    
    <!-- Environment Variables Meta Tags -->
    <!-- These can be replaced at build time by deployment systems -->
    <meta name="env-gemini_api_key" content="{{GEMINI_API_KEY}}">
    <meta name="env-google_generative_ai_api_key" content="{{GOOGLE_GENERATIVE_AI_API_KEY}}">
    <meta name="env-gemini_model" content="{{GEMINI_MODEL}}">
    <meta name="env-max_files" content="{{MAX_FILES}}">
    <meta name="env-max_single_file_mb" content="{{MAX_SINGLE_FILE_MB}}">
    <meta name="env-default_theme" content="{{DEFAULT_THEME}}">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="estilos-adicionales.css">
    
    <!-- PDF.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
</head>
<body>
    <!-- Application content would go here -->
    <!-- This is a template to show how environment variables can be injected -->
    
    <div class="container">
        <header>
            <h1>Analizador Catastral</h1>
            <p>Configuración automática con variables de entorno</p>
        </header>
        
        <main>
            <div class="env-status">
                <h2>Estado de Variables de Entorno</h2>
                <div id="envStatus"></div>
            </div>
        </main>
    </div>
    
    <script>
        // Environment variable detection and display
        function checkEnvironmentVariables() {
            const envVars = [
                'gemini_api_key',
                'google_generative_ai_api_key',
                'gemini_model',
                'max_files',
                'max_single_file_mb',
                'default_theme'
            ];
            
            const statusDiv = document.getElementById('envStatus');
            let html = '<ul>';
            
            envVars.forEach(varName => {
                const metaTag = document.querySelector(`meta[name="env-${varName}"]`);
                const value = metaTag ? metaTag.getAttribute('content') : null;
                const isConfigured = value && value !== `{{${varName.toUpperCase()}}}`;
                
                html += `<li>
                    <strong>${varName.toUpperCase()}:</strong> 
                    <span class="${isConfigured ? 'configured' : 'not-configured'}">
                        ${isConfigured ? (varName.includes('api_key') ? '••••••••••••••••' : value) : 'No configurada'}
                    </span>
                </li>`;
            });
            
            html += '</ul>';
            statusDiv.innerHTML = html;
        }
        
        // Check environment variables when page loads
        document.addEventListener('DOMContentLoaded', checkEnvironmentVariables);
    </script>
    
    <style>
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            font-family: Arial, sans-serif;
        }
        
        .env-status {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .configured {
            color: green;
            font-weight: bold;
        }
        
        .not-configured {
            color: red;
            font-weight: bold;
        }
        
        ul {
            list-style-type: none;
            padding: 0;
        }
        
        li {
            margin: 10px 0;
            padding: 8px;
            background: white;
            border-radius: 4px;
        }
    </style>
</body>
</html>